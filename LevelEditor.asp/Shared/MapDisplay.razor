@using LevelEditor.asp.Models;
@using LevelEditor.asp;
@using TestJeux.Business.Managers;

<div style="position: relative; display: flex;">
	<table class="compact">		
		@for (int i = 0; i < LevelModel.Tiles.Length; i++)
		{
			<tr>
			@for (int j = 0; j < LevelModel.Tiles.Length; j++)
			{
				var row = j;
				var col = i;
				if (LevelModel.Tiles != null)
				{
					if (LevelModel.Tiles[j] != null)
					{
						<td class="@GetCellClass(LevelModel.Tiles[j][i])">
							<img style="@GetRotateClass(@LevelModel.Tiles[j][i].Angle)" src="@LevelModel.Tiles[j][i].Image" @onclick="@(e => Select(@LevelModel.Tiles[row][col]))"/>
						</td>
					}
				}
			}
			</tr>
		}		
	</table>
	@foreach(var decoration in LevelModel.Decorations)
	{
		<img style="@GetImgPosition(decoration.X + (decoration.X /50) + 1, decoration.Y + (decoration.Y /50) + 1)" src="@decoration.Image" />
	}
</div>